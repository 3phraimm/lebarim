<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proposal</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#a0d8f1; overflow-x:hidden; text-align:center; }
button{ padding:0.8rem 1.5rem; font-size:1rem; border:none; border-radius:8px; background:#3ccf4e; color:#fff; cursor:pointer; margin-top:1rem; }
.box{ width:60px; height:60px; border-radius:8px; cursor:pointer; }
.green{ background-color:#3ccf4e; }
.red{ background-color:#ff4747; }
.options{ display:flex; justify-content:center; gap:2rem; margin-top:2rem; }
.legend{ display:flex; justify-content:center; gap:2rem; font-size:0.85rem; opacity:0.8; margin-top:1rem; }
.legend-item{ display:flex; align-items:center; gap:0.5rem; }
.legend-item .box{ width:25px; height:25px; }
.heart{ font-size:5rem; cursor:pointer; margin-top:2rem; animation:pulse 1.5s infinite; }
@keyframes pulse{ 0%,100%{transform:scale(1);}50%{transform:scale(1.2);} }
.confetti{ position:absolute; width:8px; height:8px; opacity:0.9; animation:confetti-fall 2s linear forwards; }
@keyframes confetti-fall{ 0%{transform:translateY(0) rotate(0deg); opacity:1;}100%{transform:translateY(500px) rotate(360deg); opacity:0;} }
.petal{ position:absolute; width:30px; height:30px; background:url('https://i.ibb.co/fnQzhnr/lotus.png') no-repeat center/contain; animation:float 8s linear infinite; opacity:0.7; }
@keyframes float{ 0%{transform:translateY(0) rotate(0deg);}100%{transform:translateY(100vh) rotate(360deg);} }
</style>
</head>
<body>

<div id="scene">

  <!-- Scene 1: Intro -->
  <div id="intro">
    <h1>sike, you're the friend üòº</h1>
    <p style="font-size:1rem;">(tap to continue)</p>
  </div>

  <!-- Scene 2: Letter -->
  <div id="letter" style="display:none;">
    <p>To Mirabel,</p>
    <p>It's so crazy how these past months have gone by so quickly, and they have been the best months of the entire year and I owe that to you. It has been 61 days filled with love, happiness, and laughter and I couldn't think of any other person to experience that with besides you. You mean the absolute world to me and my love for you grows more with each passing day.</p>
    <p>Thank you for choosing to stay with me and for making each moment a memorable one. I promise to always do my best, and more, to make you feel safe, loved, appreciated, and cared for, like the Queen you are. And just like the lotus, I pray you keep rising out of any muddy waters/situations, the ones you share and the ones you don't, and continue shining ever so beautifully. I'm so excited for all the moments we'll share and the growth we'll experience together. I love you a million‚ô°</p>
    <button id="continueLetter">Continue üíô</button>
  </div>

  <!-- Scene 3: Asking Text -->
  <div id="ask" style="display:none;">
    <p>I had planned to wait until we met to properly ask you so I could make it special for you but when you called me your boyfriend three nights ago it melted my heart, but I still felt bad that I hadn't asked you out yet.</p>
    <p>Now I ask, my sweet Mirabel, will you be my girlfriend?</p>
    <button id="showBoxes">Choose üíö or ‚ù§Ô∏è</button>
  </div>

  <!-- Scene 3: Boxes -->
  <div id="boxes" style="display:none;">
    <div class="options">
      <div class="box green" id="greenBox"></div>
      <div class="box red" id="redBox"></div>
    </div>
    <div class="legend">
      <div class="legend-item"><div class="box green"></div><p>yes</p></div>
      <div class="legend-item"><div class="box red"></div><p>yes but in red</p></div>
    </div>
  </div>

  <!-- Scene 4: Heart -->
  <div id="heartScene" style="display:none;">
    <div class="heart" id="heart">‚ù§Ô∏è</div>
    <p>(Tap to know a secret)</p>
    <h1 id="secret" style="display:none; color:#ff69b4; text-shadow: 2px 2px 10px #fff;">I LOVE YOU SO MUCH</h1>
    <p id="finalNote" style="display:none;">(I will still ask properly in person babe)</p>
  </div>

</div>

<audio id="music" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-summer.mp3" type="audio/mpeg">
</audio>

<script>
const intro=document.getElementById('intro');
const letter=document.getElementById('letter');
const continueLetter=document.getElementById('continueLetter');
const ask=document.getElementById('ask');
const showBoxes=document.getElementById('showBoxes');
const boxes=document.getElementById('boxes');
const greenBox=document.getElementById('greenBox');
const redBox=document.getElementById('redBox');
const heartScene=document.getElementById('heartScene');
const heart=document.getElementById('heart');
const secret=document.getElementById('secret');
const finalNote=document.getElementById('finalNote');
const music=document.getElementById('music');

intro.addEventListener('click',()=>{intro.style.display='none';music.play();letter.style.display='block';});
continueLetter.addEventListener('click',()=>{letter.style.display='none';ask.style.display='block';});
showBoxes.addEventListener('click',()=>{ask.style.display='none';boxes.style.display='block';});

function confettiEffect(){for(let i=0;i<30;i++){const c=document.createElement('div');c.classList.add('confetti');c.style.backgroundColor=['#ff0','#f0f','#0ff','#0f0','#f00'][Math.floor(Math.random()*5)];c.style.left=Math.random()*window.innerWidth+'px';c.style.top=Math.random()*50+'px';document.body.appendChild(c);setTimeout(()=>{c.remove()},2000);}}

function boxClick(color){confettiEffect();setTimeout(()=>{boxes.style.display='none';heartScene.style.display='block';alert(color==='green'?"didn‚Äôt think green was your color üòè":"knew you wouldn‚Äôt follow society‚Äôs norm üòº");},500);}

greenBox.addEventListener('click',()=>boxClick('green'));
redBox.addEventListener('click',()=>boxClick('red'));
heart.addEventListener('click',()=>{secret.style.display='block';finalNote.style.display='block';});

// Floating petals
for(let i=0;i<10;i++){const petal=document.createElement('div');petal.classList.add('petal');petal.style.left=Math.random()*100+'vw';petal.style.animationDuration=(5+Math.random()*5)+'s';document.body.appendChild(petal);}
</script>

</body>
</html>
