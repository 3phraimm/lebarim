<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proposal</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
/* ---- General ---- */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #5a7fab; /* soft blue */
  overflow-x: hidden;
  text-align: center;
  color: #fff;
  position: relative;
}

/* ---- Scene fade ---- */
.scene { display: none; opacity:0; transition: opacity 1s; }
.scene.active { display: block; opacity:1; }

/* ---- Intro ---- */
#intro {
  cursor: pointer;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-family: 'Fredoka One', cursive;
  font-size: 2rem;
  text-align: center;
}

/* ---- Letter + Ask ---- */
#letter, #ask {
  padding: 1rem 2rem;
  font-family: 'Dancing Script', cursive;
  font-size: 1.3rem;
  line-height: 1.6;
}

/* Typing effect */
.typewriter {
  overflow: hidden;
  white-space: pre-wrap;
  border-right: 3px solid #fff;
  display: inline-block;
}

/* ---- Boxes ---- */
.box {
  width: 80px;
  height: 80px;
  border-radius: 12px;
  cursor: pointer;
  margin: 1rem auto;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.green { background-color: #3ccf4e; }
.red { background-color: #ff4747; }

.options {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  align-items: center;
  margin-top: 2rem;
}

/* Box message */
#boxMessage {
  font-size: 1.2rem;
  margin-top: 1rem;
  opacity:0;
  transition: opacity 0.6s;
}

/* Legend */
.legend {
  display: flex;
  justify-content: center;
  gap: 2rem;
  font-size: 0.85rem;
  opacity: 0.8;
  margin-top: 1rem;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.legend-item .box { width: 25px; height: 25px; }

/* ---- Heart Scene ---- */
#heartScene { }
.heart {
  font-size: 5rem;
  cursor: pointer;
  margin-top: 2rem;
  animation: pulse 1.2s infinite;
}
@keyframes pulse {
  0%,100% {transform: scale(1);}
  50% {transform: scale(1.25);}
}

/* ---- Secret glow/fade ---- */
#secret {
  display: none;
  color: #ff69b4;
  text-shadow: 0 0 5px #fff, 0 0 10px #ff69b4, 0 0 20px #ff69b4;
  font-size: 2.5rem;
}
@keyframes glowFade {
  0% { opacity: 0; text-shadow: 0 0 0 #fff; transform: scale(0.8);}
  50% { opacity: 1; text-shadow: 0 0 10px #fff,0 0 20px #ff69b4,0 0 30px #ff69b4; transform: scale(1.1);}
  100% { opacity: 1; text-shadow: 0 0 15px #fff,0 0 30px #ff69b4,0 0 45px #ff69b4; transform: scale(1);}
}

/* ---- Final note ---- */
#finalNote {
  display: none;
  font-family: 'Fredoka One', cursive;
  font-size: 1rem;
  color: #fff;
  margin-top: 1rem;
  animation: pulseNote 1.5s infinite;
}
@keyframes pulseNote {
  0%,100% {transform: scale(1);}
  50% {transform: scale(1.05);}
}

/* ---- Confetti ---- */
.confetti {
  position: absolute;
  width: 8px;
  height: 8px;
  opacity: 0.9;
  animation: confetti-fall 2s linear forwards;
}
@keyframes confetti-fall {
  0% {transform: translateY(0) rotate(0deg);}
  100% {transform: translateY(500px) rotate(360deg);}
}

/* ---- Lotus petals ---- */
.petal {
  position: absolute;
  background: url('https://i.ibb.co/fnQzhnr/lotus.png') no-repeat center/contain;
  opacity: 0.7;
  animation: float 8s linear infinite;
}
@keyframes float {
  0% { transform: translate(0, 0) rotate(0deg) scale(1);}
  50% { transform: translate(var(--sway), 50vh) rotate(180deg) scale(1.1);}
  100% { transform: translate(0, 100vh) rotate(360deg) scale(1);}
}

/* Buttons */
button {
  padding: 0.8rem 1.5rem;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  background: #3ccf4e;
  color: #fff;
  cursor: pointer;
  margin-top: 1rem;
}

/* Responsive */
@media(max-width:480px){
  .box{width:60px;height:60px;}
  .heart{font-size:4rem;}
  #secret{font-size:2rem;}
  #letter,#ask{font-size:1.1rem;}
}
</style>
</head>
<body>

<div id="scene">

  <!-- Scene 1: Intro -->
  <div id="intro" class="scene active">
    <h1>sike, you're the friend üòº</h1>
    <p style="font-size:1rem;">(tap to continue)</p>
  </div>

  <!-- Scene 2: Letter -->
  <div id="letter" class="scene">
    <p class="typewriter" id="letterText"></p>
    <button id="continueLetter">Continue üíô</button>
  </div>

  <!-- Scene 3: Ask Question -->
  <div id="ask" class="scene">
    <p class="typewriter" id="askText"></p>
  </div>

  <!-- Scene 3: Boxes -->
  <div id="boxes" class="scene">
    <div class="options">
      <div class="box green" id="greenBox"></div>
      <div class="box red" id="redBox"></div>
    </div>
    <div id="boxMessage"></div>
    <div class="legend">
      <div class="legend-item"><div class="box green"></div><p>yes</p></div>
      <div class="legend-item"><div class="box red"></div><p>yes but in red</p></div>
    </div>
  </div>

  <!-- Scene 4: Heart -->
  <div id="heartScene" class="scene">
    <div class="heart" id="heart">‚ù§Ô∏è</div>
    <p>(Tap to know a secret)</p>
    <h1 id="secret">I LOVE YOU SO MUCH</h1>
    <p id="finalNote">(I will still ask properly in person babe)</p>
  </div>

</div>

<audio id="music" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-summer.mp3" type="audio/mpeg">
</audio>

<script>
// Elements
const scenes = document.querySelectorAll('.scene');
const intro=document.getElementById('intro');
const letter=document.getElementById('letter');
const letterText=document.getElementById('letterText');
const continueLetter=document.getElementById('continueLetter');
const ask=document.getElementById('ask');
const askText=document.getElementById('askText');
const boxes=document.getElementById('boxes');
const greenBox=document.getElement
